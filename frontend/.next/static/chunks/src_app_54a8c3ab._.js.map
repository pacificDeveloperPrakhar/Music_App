{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/music_app/Music_App/frontend/src/app/components/audio_playback.tsx"],"sourcesContent":["// components/HLSAudioPlayer.tsx\r\n'use client';\r\n\r\nimport { useEffect, useRef } from 'react';\r\nimport Hls from 'hls.js';\r\n\r\ninterface HLSAudioPlayerProps {\r\n  src: string;\r\n}\r\n\r\nconst HLSAudioPlayer: React.FC<HLSAudioPlayerProps> = ({ src }) => {\r\n  const audioRef = useRef<HTMLAudioElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (Hls.isSupported() && audioRef.current) {\r\n        const hls = new Hls({\r\n            maxBufferLength: 10,        // Target 10 seconds of buffer\r\n            maxMaxBufferLength: 20,     // Hard limit of 20 seconds\r\n            maxBufferSize: 640000,      // ~400 KB buffer size\r\n          });\r\n          \r\n      hls.startLevel = 0; // index in the manifest (0 = lowest = 64k)\r\n\r\n      hls.loadSource(src);\r\n      hls.attachMedia(audioRef.current);\r\n\r\n      hls.on(Hls.Events.MANIFEST_PARSED, () => {\r\n        audioRef.current?.play().catch((err) => console.error(err));\r\n      });\r\n\r\n      return () => {\r\n        hls.destroy();\r\n      };\r\n    } else if (audioRef.current?.canPlayType('application/vnd.apple.mpegurl')) {\r\n      // For Safari\r\n      audioRef.current.src = src;\r\n      audioRef.current.play().catch((err) => console.error(err));\r\n    }\r\n  }, [src]);\r\n\r\n  return <audio ref={audioRef} controls />;\r\n};\r\n\r\nexport default HLSAudioPlayer;\r\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;AAGhC;AACA;;;AAHA;;;AASA,MAAM,iBAAgD,CAAC,EAAE,GAAG,EAAE;;IAC5D,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAoB;IAE1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACR,IAAI,4IAAA,CAAA,UAAG,CAAC,WAAW,MAAM,SAAS,OAAO,EAAE;gBACvC,MAAM,MAAM,IAAI,4IAAA,CAAA,UAAG,CAAC;oBAChB,iBAAiB;oBACjB,oBAAoB;oBACpB,eAAe;gBACjB;gBAEJ,IAAI,UAAU,GAAG,GAAG,2CAA2C;gBAE/D,IAAI,UAAU,CAAC;gBACf,IAAI,WAAW,CAAC,SAAS,OAAO;gBAEhC,IAAI,EAAE,CAAC,4IAAA,CAAA,UAAG,CAAC,MAAM,CAAC,eAAe;gDAAE;wBACjC,SAAS,OAAO,EAAE,OAAO;wDAAM,CAAC,MAAQ,QAAQ,KAAK,CAAC;;oBACxD;;gBAEA;gDAAO;wBACL,IAAI,OAAO;oBACb;;YACF,OAAO,IAAI,SAAS,OAAO,EAAE,YAAY,kCAAkC;gBACzE,aAAa;gBACb,SAAS,OAAO,CAAC,GAAG,GAAG;gBACvB,SAAS,OAAO,CAAC,IAAI,GAAG,KAAK;gDAAC,CAAC,MAAQ,QAAQ,KAAK,CAAC;;YACvD;QACF;mCAAG;QAAC;KAAI;IAER,qBAAO,6LAAC;QAAM,KAAK;QAAU,QAAQ;;;;;;AACvC;GA/BM;KAAA;uCAiCS","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/admin/Desktop/music_app/Music_App/frontend/src/app/playback/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { NextPage } from 'next';\r\nimport { useRef, useEffect, useState } from \"react\";\r\nimport AudioPlayBack from \"../components/audio_playback\"\r\ninterface Props {}\r\n\r\nconst Playbox: NextPage<Props> = ({}) => {\r\n  const ctx = useRef(new AudioContext());\r\n  const flag = useRef(false);\r\n  const gainNode = useRef(ctx.current.createGain());\r\n  const bassFilter = useRef(ctx.current.createBiquadFilter());\r\n  const [volume, setVolume] = useState(1);\r\n  const oscillatorRef = useRef<OscillatorNode | null>(null);\r\n\r\n  useEffect(() => {\r\n    // Configure bass filter\r\n    bassFilter.current.type = \"lowshelf\";\r\n    bassFilter.current.frequency.setValueAtTime(200, ctx.current.currentTime); // Frequencies below 200Hz\r\n    bassFilter.current.gain.setValueAtTime(105, ctx.current.currentTime); // Boost bass by 15dB\r\n\r\n    // Chain: bassFilter → gainNode → destination\r\n    bassFilter.current.connect(gainNode.current);\r\n    gainNode.current.connect(ctx.current.destination);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        data-playing=\"false\"\r\n        role=\"switch\"\r\n        aria-checked=\"false\"\r\n        onClick={() => {\r\n          if (!flag.current) {\r\n            console.log(\"music on\");\r\n            const oscillator = ctx.current.createOscillator();\r\n            oscillator.type = \"sawtooth\";\r\n            oscillator.connect(bassFilter.current); // Connect to bass filter\r\n            oscillator.start();\r\n            oscillatorRef.current = oscillator;\r\n          } else {\r\n            oscillatorRef.current?.stop();\r\n            oscillatorRef.current = null;\r\n          }\r\n          flag.current = !flag.current;\r\n        }}\r\n      >\r\n        <span>Play/Pause</span>\r\n      </button>\r\n\r\n      <button\r\n        onClick={() => {\r\n          gainNode.current.gain.setValueAtTime(0.1, ctx.current.currentTime);\r\n          setVolume(3);\r\n        }}\r\n      >\r\n        volume {`${volume}`}\r\n      </button>\r\n      <AudioPlayBack src={\"./audios/master.m3u8\"}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Playbox;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAMA,MAAM,UAA2B,CAAC,EAAE;;IAClC,MAAM,MAAM,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE,IAAI;IACvB,MAAM,OAAO,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACpB,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE,IAAI,OAAO,CAAC,UAAU;IAC9C,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE,IAAI,OAAO,CAAC,kBAAkB;IACxD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAyB;IAEpD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACR,wBAAwB;YACxB,WAAW,OAAO,CAAC,IAAI,GAAG;YAC1B,WAAW,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC,KAAK,IAAI,OAAO,CAAC,WAAW,GAAG,0BAA0B;YACrG,WAAW,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,IAAI,OAAO,CAAC,WAAW,GAAG,qBAAqB;YAE3F,6CAA6C;YAC7C,WAAW,OAAO,CAAC,OAAO,CAAC,SAAS,OAAO;YAC3C,SAAS,OAAO,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,WAAW;QAClD;4BAAG,EAAE;IAEL,qBACE,6LAAC;;0BACC,6LAAC;gBACC,gBAAa;gBACb,MAAK;gBACL,gBAAa;gBACb,SAAS;oBACP,IAAI,CAAC,KAAK,OAAO,EAAE;wBACjB,QAAQ,GAAG,CAAC;wBACZ,MAAM,aAAa,IAAI,OAAO,CAAC,gBAAgB;wBAC/C,WAAW,IAAI,GAAG;wBAClB,WAAW,OAAO,CAAC,WAAW,OAAO,GAAG,yBAAyB;wBACjE,WAAW,KAAK;wBAChB,cAAc,OAAO,GAAG;oBAC1B,OAAO;wBACL,cAAc,OAAO,EAAE;wBACvB,cAAc,OAAO,GAAG;oBAC1B;oBACA,KAAK,OAAO,GAAG,CAAC,KAAK,OAAO;gBAC9B;0BAEA,cAAA,6LAAC;8BAAK;;;;;;;;;;;0BAGR,6LAAC;gBACC,SAAS;oBACP,SAAS,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,IAAI,OAAO,CAAC,WAAW;oBACjE,UAAU;gBACZ;;oBACD;oBACS,GAAG,QAAQ;;;;;;;0BAErB,6LAAC,8IAAA,CAAA,UAAa;gBAAC,KAAK;;;;;;;;;;;;AAG1B;GAtDM;KAAA;uCAwDS","debugId":null}}]
}